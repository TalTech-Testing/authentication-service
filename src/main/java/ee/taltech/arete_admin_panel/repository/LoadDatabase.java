package ee.taltech.arete_admin_panel.repository;

import ee.taltech.arete_admin_panel.domain.Job;
import ee.taltech.arete_admin_panel.domain.Submission;
import ee.taltech.arete_admin_panel.pojo.abi.users.UserPostDto;
import ee.taltech.arete_admin_panel.service.UserService;
import lombok.extern.slf4j.Slf4j;
import org.apache.commons.lang3.RandomStringUtils;
import org.springframework.boot.CommandLineRunner;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

import java.nio.charset.StandardCharsets;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.Arrays;
import java.util.Collections;
import java.util.HashSet;

@Configuration
@Slf4j
class LoadDatabase {

    @Bean
    CommandLineRunner initUserDatabase(UserService userService) {
        return args -> {
            if (userService.getAllUsers().stream().noneMatch(x -> x.getUsername().equals("admin"))) {
                userService.addSuperUser(new UserPostDto("admin", "admin"));
            }
        };
    }

    @Bean
    CommandLineRunner initSubmissionAndJobDatabase(SubmissionRepository submissionRepository, JobRepository jobRepository) {
        return args -> {

            for (int i = 0; i < 1000; i++) {

                String hash = getRandomHash();
                submissionRepository.saveAndFlush(
                        Submission.builder()
                                .course("iti0200-2020")
                                .hash(hash)
                                .timestamp(i * 1231L + 123)
                                .testingPlatform("java")
                                .uniid("envomp")
                                .build());

                for (int j = 0; j < 3; j++) {
                    // TODO: replace \n with <br>

                    jobRepository.saveAndFlush(
                            Job.builder()
                                    .commitMessage("Commit message")
                                    .course("iti0200-2020")
                                    .testingPlatform("java")
                                    .systemExtra((new HashSet<>(Arrays.asList(
                                            "noMail", "noFiles"
                                    ))))
                                    .dockerExtra(new HashSet<>(Collections.singletonList("stylecheck")))
                                    .dockerTimeout(120)
                                    .hash(hash)
                                    .gitStudentRepo("https://gitlab.cs.ttu.ee/envomp/iti0102-2019.git")
                                    .gitTestSource("https://gitlab.cs.ttu.ee/iti0102-2019/ex.git")
                                    .priority(5)
                                    .slug("ex" + j)
                                    .returnUrl("neti.ee")
                                    .uniid("envomp")
                                    .timestamp(i * 1231L + j * 123L)
                                    .consoleOutput("tee: /log/1580591422082154477-stdout.log: No such file or directory<br>tee: /log/1580591422082154477-stderr.log: No such file or directory<br>Feb 01, 2020 9:10:22 PM ee.ttu.java.studenttester.core.StudentTester main<br>INFO: Running StudentTester, build 2.0, build 20200128_234544<br>Feb 01, 2020 9:10:22 PM ee.ttu.java.studenttester.core.helpers.FileArgsReader getArgsFromFile<br>INFO: Read input via file:<br>\ttestRoot:\t\t/tester<br>\tcontentRoot:\t/student<br>\textra:\t\t\t-r TESTNG,COMPILER,CHECKSTYLE,FILEWRITER,REPORT<br><br>Feb 01, 2020 9:10:22 PM ee.ttu.java.studenttester.core.helpers.FileArgsReader getArgsFromFile<br>INFO: Args from file: [-r, TESTNG,COMPILER,CHECKSTYLE,FILEWRITER,REPORT, -c, /student, -t, /tester]<br>Feb 01, 2020 9:10:22 PM ee.ttu.java.studenttester.core.StudentTester main<br>INFO: Program arguments: [-i, /host/input.json, -o, /host/output.json, -tmp, /tmp/tmp.zn9ycsJTW0, -r, FILEWRITER,COMPILER,TESTNG,CHECKSTYLE,REPORT, -jsontxt, -r, TESTNG,COMPILER,CHECKSTYLE,FILEWRITER,REPORT, -c, /student, -t, /tester]<br>Feb 01, 2020 9:10:22 PM ee.ttu.java.studenttester.core.runners.CheckStyleRunner checkConfig<br>INFO: Found checkstyle.xml in tests folder, using that<br>Feb 01, 2020 9:10:23 PM ee.ttu.java.studenttester.core.runners.CompilerRunner parseCopyDirs<br>WARNING: Getting code files from nested src: /student/src<br>Feb 01, 2020 9:10:23 PM ee.ttu.java.studenttester.core.runners.CompilerRunner parseCopyDirs<br>WARNING: Getting test files from nested src: /tester/src<br>OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.interceptors.TestNGInterceptor onStart<br>INFO: Starting test context ee.taltech.iti0200.idcode.IdCodeTest (TestNG), enabled policies [DISABLE_ANY_FILE_MATCHER, DISABLE_REFLECTION_SELECTIVE, DISABLE_SOCKETS, DISABLE_EXIT, DISABLE_TEST_SNIFFING, DISABLE_SECURITYMANAGER_CHANGE, DISABLE_EXECUTION]<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread Attach Listener that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.security.RogueThreadHandler lambda$checkHandleRogueThreads$1<br>WARNING: Found thread process reaper that seems to be stuck. Trying to kill and hoping for the best...<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.interceptors.TestNGInterceptor onFinish<br>INFO: Context ee.taltech.iti0200.idcode.IdCodeTest (TestNG) finished in 1980 ms<br>Feb 01, 2020 9:10:26 PM ee.ttu.java.studenttester.core.StudentTester main<br>INFO: Finished running, elapsed time 4514ms<br>")
                                    .output(Files.readString(Paths.get("C:\\Users\\envomp\\IdeaProjects\\arete_admin_panel\\src\\main\\java\\ee\\taltech\\arete_admin_panel\\repository\\job.txt"))
                                    ).build()
                    );
                }
            }
        };
    }

    private static String getRandomHash() {
        return RandomStringUtils.random(64, true, true).toLowerCase();
    }

}
